# 红黑树

红黑树是一种二叉查找树

二叉查找树：

> * 若任意节点的左子树不空，则左子树上所有节点的值均小于它的根节点的值；
> * 若任意节点的右子树不空，则右子树上所有节点的值均大于它的根节点的值；
> * 任意节点的左、右子树也分别为二叉查找树。
> * 没有键值相等的节点。

红黑树：

> * 每个节点要么是红的，要么是黑的。
> * 根节点是黑的。
> * 每个叶节点（叶节点即指树尾端NIL指针或NULL节点）都是黑的。
> * 如果一个节点是红的，那么它的两个儿子都是黑的。
> * 对于任意节点而言，其到叶节点树尾端NIL指针的每条路径都包含相同数目的黑节点。

**红黑树的插入**：

* 先按照查找二叉树的规则插入元素（插入的节点为红色）
* 插入后修复颜色
  * 若插入的是根节点（即原树为空树），将颜色改为黑色
  * 若插入节点的父节点为黑色，不用改变，插入操作完成
  * 若插入节点的父节点为红色，接下来有3种情况：
    * 情况1：如果当前节点的父节点是红色且祖父节点的另一个子节点（叔叔节点）是红色
    * 情况2：当前节点的父节点是红色，叔叔节点是黑色，当前节点是其父节点的右子
    * 情况3：当前节点的父节点是红色，叔叔节点是黑色，当前节点是其父节点的左子

**二叉查找树的插入**：

1. 若b是空树，则直接将插入的节点作为根节点插入。
2. x==b的根节点的数据的值，则直接返回，否则：
3. 若x小于b的根节点的数据的值，则将x要插入如的节点的位置改变为b的左子树，否则：
4. 将x要插入的节点的位置改变为b的右子树。

```java
// Insert item
public void insert(T t) {
    rootTree = insert(t, rootTree);
}

// 判断插入元素的位置
public BinaryNode<T> insert(T t, BinaryNode<T> node) {
    if (node == null) {
        return new BinaryNode<T>(t, null, null);
    }
    int result = t.compareTo(node.data);
    if (result < 0)
        node.left = insert(t, node.left);
    else if (result > 0)
        node.right = insert(t, node.right);
    else
        ;// doNothing
    return node;
}
```

